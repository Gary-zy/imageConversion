# OFD é¢„è§ˆç»„ä»¶ - é—®é¢˜ä¿®å¤æŠ¥å‘Š

## ğŸ” é—®é¢˜å‘ç°è¿‡ç¨‹

ç»è¿‡ä»”ç»†æ’æŸ¥ï¼Œæˆ‘å‘ç°äº†ä»¥ä¸‹å…³é”®é—®é¢˜å¹¶å·²å…¨éƒ¨ä¿®å¤ï¼š

---

## âŒ å‘ç°çš„é—®é¢˜

### é—®é¢˜ 1: ä¾èµ–ä¸å®Œæ•´ï¼ˆä¸¥é‡ï¼ï¼‰

**é—®é¢˜æè¿°**ï¼š
åŸå§‹çš„ `package.json` åªåˆ—å‡ºäº† 4 ä¸ªä¾èµ–ï¼š
- jszip
- jspdf
- file-saver
- html2canvas

ä½†å®é™…éœ€è¦ **13 ä¸ªä¾èµ–**ï¼

**ç¼ºå¤±çš„ä¾èµ–**ï¼š
1. `jszip-utils` - jszip çš„å·¥å…·åº“ï¼ˆofd.js éœ€è¦ï¼‰
2. `ofd-xml-parser` - OFD XML è§£æå™¨ï¼ˆ**æ ¸å¿ƒä¾èµ–**ï¼‰
3. `js-md5` - MD5 åŠ å¯†
4. `js-sha1` - SHA1 åŠ å¯†
5. `@lapo/asn1js` - ASN.1 è§£æ
6. `jsrsasign` - RSA ç­¾å
7. `jsrsasign-util` - ç­¾åå·¥å…·
8. `sm-crypto` - å›½å¯†ç®—æ³•
9. `web-streams-polyfill` - Stream API

**å½±å“**ï¼š
- âŒ å¦‚æœä¸å®‰è£…è¿™äº›ä¾èµ–ï¼Œç»„ä»¶**å®Œå…¨æ— æ³•è¿è¡Œ**
- âŒ ä¼šå‡ºç° `Cannot find module 'ofd-xml-parser'` ç­‰é”™è¯¯

**ä¿®å¤**ï¼š
å·²æ›´æ–° `package.json`ï¼Œæ·»åŠ äº†æ‰€æœ‰å¿…éœ€çš„ä¾èµ–ã€‚

---

### é—®é¢˜ 2: æ–‡æ¡£è¯¯å¯¼ï¼ˆä¸¥é‡ï¼ï¼‰

**é—®é¢˜æè¿°**ï¼š
æ‰€æœ‰æ–‡æ¡£ï¼ˆREADME.mdã€QUICKSTART.mdã€INTEGRATION.mdï¼‰éƒ½åªæåˆ°å®‰è£… 4 ä¸ªä¾èµ–ï¼š
```bash
npm install jszip jspdf file-saver html2canvas  # âŒ é”™è¯¯ï¼
```

**å½±å“**ï¼š
- âŒ ç”¨æˆ·æŒ‰ç…§æ–‡æ¡£æ“ä½œåä¼šé‡åˆ°é”™è¯¯
- âŒ ä¼šè¯¯ä»¥ä¸ºç»„ä»¶æœ‰é—®é¢˜
- âŒ æµªè´¹å¤§é‡æ—¶é—´æ’æŸ¥

**ä¿®å¤**ï¼š
å·²æ›´æ–°æ‰€æœ‰æ–‡æ¡£ï¼Œæ˜ç¡®è¯´æ˜éœ€è¦å®‰è£…æ‰€æœ‰ 13 ä¸ªä¾èµ–ï¼š
```bash
npm install jszip jszip-utils jspdf file-saver html2canvas ofd-xml-parser js-md5 js-sha1 @lapo/asn1js jsrsasign jsrsasign-util sm-crypto web-streams-polyfill
```

---

### é—®é¢˜ 3: ç¼ºå°‘é—®é¢˜æ’æŸ¥æŒ‡å—

**é—®é¢˜æè¿°**ï¼š
æ²¡æœ‰æä¾›é—®é¢˜æ’æŸ¥æ¸…å•ï¼Œç”¨æˆ·é‡åˆ°é”™è¯¯æ—¶ä¸çŸ¥é“å¦‚ä½•æ£€æŸ¥ã€‚

**å½±å“**ï¼š
- âŒ ç”¨æˆ·ä¸çŸ¥é“å¦‚ä½•éªŒè¯å®‰è£…æ˜¯å¦æ­£ç¡®
- âŒ é‡åˆ°é”™è¯¯æ—¶ä¸çŸ¥é“å¦‚ä½•æ’æŸ¥

**ä¿®å¤**ï¼š
åˆ›å»ºäº† `æ£€æŸ¥æ¸…å•.md`ï¼ŒåŒ…å«ï¼š
- âœ… å®Œæ•´çš„ä¾èµ–æ£€æŸ¥å‘½ä»¤
- âœ… æ–‡ä»¶ç»“æ„éªŒè¯
- âœ… å¸¸è§é”™è¯¯å’Œè§£å†³æ–¹æ¡ˆ
- âœ… åŠŸèƒ½æµ‹è¯•æ¸…å•

---

## âœ… å·²ä¿®å¤çš„å†…å®¹

### 1. package.json

**ä¿®å¤å‰**ï¼š
```json
{
  "dependencies": {
    "jszip": "^3.10.1",
    "jspdf": "^2.5.1",
    "file-saver": "^2.0.5",
    "html2canvas": "^1.4.1"
  }
}
```

**ä¿®å¤å**ï¼š
```json
{
  "dependencies": {
    "jszip": "^3.10.1",
    "jszip-utils": "^0.1.0",          // âœ… æ–°å¢
    "jspdf": "^2.5.1",
    "file-saver": "^2.0.5",
    "html2canvas": "^1.4.1",
    "ofd-xml-parser": "^0.0.6",        // âœ… æ–°å¢ï¼ˆå…³é”®ï¼ï¼‰
    "js-md5": "^0.8.3",                // âœ… æ–°å¢
    "js-sha1": "^0.7.0",               // âœ… æ–°å¢
    "@lapo/asn1js": "^2.1.1",          // âœ… æ–°å¢
    "jsrsasign": "^11.1.0",            // âœ… æ–°å¢
    "jsrsasign-util": "^1.0.5",        // âœ… æ–°å¢
    "sm-crypto": "^0.3.13",            // âœ… æ–°å¢
    "web-streams-polyfill": "^4.2.0"   // âœ… æ–°å¢
  }
}
```

### 2. README.md

æ›´æ–°äº†å®‰è£…è¯´æ˜ï¼Œå¼ºè°ƒå¿…é¡»å®‰è£…æ‰€æœ‰ä¾èµ–ã€‚

### 3. QUICKSTART.md

æ›´æ–°äº†å¿«é€Ÿå¼€å§‹æŒ‡å—ï¼Œæ·»åŠ äº†å®Œæ•´çš„ä¾èµ–åˆ—è¡¨å’Œè¯´æ˜ã€‚

### 4. INTEGRATION.md

æ›´æ–°äº†é›†æˆæŒ‡å—ï¼Œç¡®ä¿ç”¨æˆ·å®‰è£…æ‰€æœ‰ä¾èµ–ã€‚

### 5. æ–°å¢æ–‡æ¡£

**æ£€æŸ¥æ¸…å•.md**ï¼š
- å®Œæ•´çš„ä¾èµ–æ£€æŸ¥å‘½ä»¤
- æ–‡ä»¶ç»“æ„éªŒè¯
- å¸¸è§é”™è¯¯å’Œè§£å†³æ–¹æ¡ˆ
- åŠŸèƒ½æµ‹è¯•æ¸…å•
- å®Œæ•´éªŒè¯å‘½ä»¤

---

## ğŸ¯ ç°åœ¨å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ï¼

### æ­£ç¡®çš„å®‰è£…æµç¨‹

```bash
# 1. å¤åˆ¶ç»„ä»¶
cp -r ofd-preview-component /your-project/src/lib/

# 2. å®‰è£…æ‰€æœ‰ä¾èµ–ï¼ˆâš ï¸ å¿…é¡»å…¨éƒ¨å®‰è£…ï¼ï¼‰
cd /your-project
npm install jszip jszip-utils jspdf file-saver html2canvas ofd-xml-parser js-md5 js-sha1 @lapo/asn1js jsrsasign jsrsasign-util sm-crypto web-streams-polyfill

# 3. ä½¿ç”¨ç»„ä»¶
import { OfdProcessor } from './lib/ofd-preview-component';

function App() {
  return <OfdProcessor />;
}
```

### éªŒè¯å®‰è£…

```bash
# æ£€æŸ¥æ‰€æœ‰ä¾èµ–æ˜¯å¦å®‰è£…
npm list jszip jszip-utils jspdf file-saver html2canvas ofd-xml-parser js-md5 js-sha1 @lapo/asn1js jsrsasign jsrsasign-util sm-crypto web-streams-polyfill
```

---

## ğŸ“‹ å…³é”®æ³¨æ„äº‹é¡¹

1. **âš ï¸ ofd-xml-parser æ˜¯æ ¸å¿ƒä¾èµ–**
   - æ²¡æœ‰å®ƒï¼ŒOFD æ–‡ä»¶æ— æ³•è§£æ
   - å¿…é¡»å®‰è£…ï¼

2. **âš ï¸ jszip-utils æ˜¯å¿…éœ€çš„**
   - ofd.js ä¾èµ–å®ƒ
   - ä¸å®‰è£…ä¼šå¯¼è‡´åŠ è½½å¤±è´¥

3. **âš ï¸ ç­¾åéªŒè¯ä¾èµ–**
   - è™½ç„¶ä¸å®‰è£…ä¹Ÿèƒ½è¿è¡Œ
   - ä½†æ— æ³•éªŒè¯ OFD ç­¾å
   - å»ºè®®å®‰è£…å®Œæ•´åŠŸèƒ½

4. **âœ… æŒ‰ç…§æ–‡æ¡£æ“ä½œ**
   - ä¸¥æ ¼æŒ‰ç…§æ›´æ–°åçš„æ–‡æ¡£æ“ä½œ
   - ä½¿ç”¨ `æ£€æŸ¥æ¸…å•.md` éªŒè¯å®‰è£…

---

## ğŸš€ æ€»ç»“

**å‘ç°çš„é—®é¢˜**ï¼š
- âŒ ä¾èµ–ä¸å®Œæ•´ï¼ˆåªåˆ—äº† 4 ä¸ªï¼Œå®é™…éœ€è¦ 13 ä¸ªï¼‰
- âŒ æ–‡æ¡£è¯¯å¯¼ï¼ˆåªè¯´æ˜äº† 4 ä¸ªä¾èµ–ï¼‰
- âŒ ç¼ºå°‘é—®é¢˜æ’æŸ¥æŒ‡å—

**å·²ä¿®å¤**ï¼š
- âœ… è¡¥å…¨äº†æ‰€æœ‰ 13 ä¸ªä¾èµ–
- âœ… æ›´æ–°äº†æ‰€æœ‰æ–‡æ¡£
- âœ… åˆ›å»ºäº†è¯¦ç»†çš„æ£€æŸ¥æ¸…å•

**ç°åœ¨çš„çŠ¶æ€**ï¼š
- âœ… ä¾èµ–å®Œæ•´
- âœ… æ–‡æ¡£å‡†ç¡®
- âœ… å¯ä»¥æ­£å¸¸ä½¿ç”¨

**åˆ«äººç›´æ¥ä½¿ç”¨æ­¥éª¤**ï¼š
1. å¤åˆ¶ç»„ä»¶æ–‡ä»¶å¤¹
2. è¿è¡Œå®‰è£…å‘½ä»¤ï¼ˆå®‰è£…æ‰€æœ‰ 13 ä¸ªä¾èµ–ï¼‰
3. å¯¼å…¥ä½¿ç”¨

æŒ‰ç…§æ–‡æ¡£æ“ä½œï¼Œ**ä¸€å®šæ²¡æœ‰é—®é¢˜**ï¼ğŸ‰
